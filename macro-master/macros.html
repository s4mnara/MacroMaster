<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Macro Master - Metas e Macros</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    :root {
      --bg-url: url('assets/background22.jpg');
    }
  </style>
</head>
<body>
  <main class="container">
    <h1>🎯 Metas e Macronutrientes</h1>

    <section class="intro">
      <p>
        Ajuste sua meta calórica e defina a divisão dos macronutrientes para seu plano.
      </p>
    </section>

    <form id="goal-form">
      <fieldset>
        <legend>🎚 Ajuste Calórico (%)</legend>

        <label for="adjustment">Ajuste (%): <span id="adjustment-value">0%</span></label>
        <input type="range" id="adjustment" min="-50" max="50" value="0" />
      </fieldset>
      <p style="max-width:600px; margin: 0 auto 30px; color:#555; text-align:center; font-size:1em;">
        Ajuste suas calorias para perder gordura, ganhar massa ou manter o peso.  
        Valores negativos indicam déficit calórico; positivos, superávit.
      </p>
      <button type="submit">Aplicar Ajuste</button>
    </form>

    <section id="adjusted-section" class="highlight-box">
      <h2>🔥 Calorias Ajustadas</h2>
      <p class="adjusted-text">
        Sua nova meta calórica, com base no ajuste percentual definido, é:
      </p>
      <p class="adjusted-value">
        <span id="adjusted-calories">0</span> kcal
      </p>
    </section>

    <form id="macros-form">
      <fieldset>
        <legend>🥩 Macronutrientes (%)</legend>

        <label for="protein">Proteínas (%):</label>
        <input type="number" id="protein" min="0" max="100" value="30" required />

        <label for="carbs">Carboidratos (%):</label>
        <input type="number" id="carbs" min="0" max="100" value="50" required />

        <label for="fats">Gorduras (%):</label>
        <input type="number" id="fats" min="0" max="100" value="20" required />
      </fieldset>

      <button type="submit">Calcular Macros</button>
    </form>

    <section id="macros-result" style="display:none;">
      <h2>📈 Resultados dos Macros</h2>
      <ul>
        <li>Proteínas: <span id="protein-result"></span> g</li>
        <li>Carboidratos: <span id="carbs-result"></span> g</li>
        <li>Gorduras: <span id="fats-result"></span> g</li>
      </ul>

      <div class="chart-container" style="max-width: 400px; margin: 0 auto;">
        <canvas id="macroChart"></canvas>
      </div>
    </section>

        <!-- //////////////////////////////////////////////////////PDF////////////////////////////////////////////////////////////////-->
    <!-- Geração do pdf -->
     
    <div id="pdf-content" style="background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); display: none;">

    <!-- //////////////////////////////////////////////////////PDF////////////////////////////////////////////////////////////////-->
    <!-- Geração do pdf -->
      <h1>
        <span style="color:#2196f3;">Macro Master</span> 🧮
      </h1>

      <h2>📄 Relatório de Resultados</h2>

        <p><strong>TDEE (Gasto Energético Total):</strong> <span id="pdf-tdee">--</span> kcal</p>

        <p><strong>IMC:</strong> <span id="pdf-bmi">--</span> - <span id="pdf-bmi-class">--</span></p>

        <p><strong>Peso Ideal:</strong> <span id="pdf-ideal-weight">--</span> kg</p>

        <p><strong>Calorias Ajustadas:</strong> <span id="pdf-adjusted-calories">--</span> kcal</p>

      <div style="margin-top: 20px;">
      <h3>Macronutrientes</h3>
      <ul>
        <li>Proteínas: <span id="pdf-protein-result">--</span> g</li>
        <li>Carboidratos: <span id="pdf-carbs-result">--</span> g</li>
        <li>Gorduras: <span id="pdf-fats-result">--</span> g</li>
      </ul>
          <!-- Nova seção para mostrar a dieta personalizada -->
        <section id="diet-plan" style="display:none;">
          <h2>🍽️ Sugestão de Dieta</h2>
          <div id="diet-content"></div>
    </section>
    </div>

       </div>
    
   

      <!-- Container para o gráfico do PDF -->
      <div class="chart-container">
        <!-- O gráfico será inserido aqui dinamicamente -->
      </div>

      <!-- Container para dieta no PDF -->
      <section style="margin-top: 20px;">
        <h3>Dieta Personalizada</h3>
        <div id="pdf-diet-content" style="line-height: 1.4; font-size: 0.9em;"></div>
      </section>
    </div>

     <!-- Essa praga de botão DEVIA gerar um PDF, DEVIA!! :) -->
    <button type="button" id= "download-pdf-btn" onclick="gerarPDF()" class="button" style="display: none;">📄 Baixar PDF</button>
  </main>
  <script src="script.js"></script>
</body>
</html>


